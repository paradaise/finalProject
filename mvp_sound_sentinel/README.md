# Sound Sentinel - YAMNet Embeddings System

ะกะธััะตะผะฐ ะดะตัะตะบัะธะธ ะทะฒัะบะพะฒ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ YAMNet embeddings ะธ cosine similarity ะดะปั ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะทะฒัะบะพะฒ.

## ๐๏ธ ะััะธัะตะบัััะฐ

### Backend (FastAPI + YAMNet)

- **YAMNet Model**: 1024-dimensional embeddings ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟัะตะดััะฐะฒะปะตะฝะธั ะทะฒัะบะพะฒ
- **Cosine Similarity**: ะกัะฐะฒะฝะตะฝะธะต embeddings ะดะปั ะดะตัะตะบัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะทะฒัะบะพะฒ
- **SQLite**: ะฅัะฐะฝะตะฝะธะต embeddings, centroids ะธ thresholds
- **WebSocket**: ะะตะฐะปัะฝะพะต ะฒัะตะผั ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน
- **HTTPS**: ะะตะทะพะฟะฐัะฝะพะต ัะพะตะดะธะฝะตะฝะธะต ั ัะฐะผะพะฟะพะดะฟะธัะฐะฝะฝัะผะธ ัะตััะธัะธะบะฐัะฐะผะธ

### Frontend (React + TypeScript)

- **Mobile App**: PWA ะดะปั ัะฟัะฐะฒะปะตะฝะธั ััััะพะนััะฒะฐะผะธ ะธ ะฝะฐัััะพะนะบะฐะผะธ
- **Real-time Updates**: WebSocket ะฟะพะดะบะปััะตะฝะธะต
- **Responsive Design**: ะะดะฐะฟัะธะฒะฝัะน ะธะฝัะตััะตะนั
- **Microphone Access**: ะะฐะฟะธัั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะทะฒัะบะพะฒ

### Raspberry Pi Client

- **Audio Recording**: ะะฐะฟะธัั ะฐัะดะธะพ ั ะผะธะบัะพัะพะฝะฐ
- **Silence Detection**: ะคะธะปัััะฐัะธั ัะธัะธะฝั
- **HTTPS Client**: ะะตะทะพะฟะฐัะฝะพะต ะฟะพะดะบะปััะตะฝะธะต ะบ ัะตัะฒะตัั

## ๐ ะัััััะน ะทะฐะฟััะบ

### 1. Backend

```bash
cd api_server
pip install -r requirements.txt
python main.py
```

ะกะตัะฒะตั: `https://192.168.0.61:8000`

### 2. Frontend

```bash
cd mobile_app
npm install
npm run dev
```

ะัะธะปะพะถะตะฝะธะต: `https://192.168.0.61:3000`

### 3. Raspberry Pi

```bash
cd raspberry_pi
pip install -r requirements.txt
python3 audio_client_fixed.py
```

## ๐ฑ ะะพะฑะธะปัะฝัะน ะดะพัััะฟ

1. ะะพะดะบะปััะธัั ะบ ัะพะน ะถะต WiFi ัะตัะธ
2. ะัะบัะพะน: `https://192.168.0.61:3000`
3. ะัะธะผะธ ะฟัะตะดัะฟัะตะถะดะตะฝะธะต ะฑะตะทะพะฟะฐัะฝะพััะธ
4. ะะฐะทัะตัะธ ะดะพัััะฟ ะบ ะผะธะบัะพัะพะฝั

## ๐ API Endpoints

### ะฃัััะพะนััะฒะฐ

- `GET /devices` - ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ ััััะพะนััะฒ
- `POST /register_device` - ะะตะณะธัััะฐัะธั ััััะพะนััะฒะฐ
- `PUT /update_device/{device_id}` - ะะฑะฝะพะฒะปะตะฝะธะต ััััะพะนััะฒะฐ

### ะะตัะตะบัะธั

- `POST /detect_sound` - ะะตัะตะบัะธั ะทะฒัะบะฐ
- `GET /detections/{device_id}` - ะััะพัะธั ะดะตัะตะบัะธะน

### Custom Sounds (YAMNet Embeddings)

- `POST /custom_sounds/train` - ะขัะตะฝะธัะพะฒะบะฐ ะธะท ะฐัะดะธะพ ะทะฐะฟะธัะตะน
- `POST /custom_sounds` - ะะพะฑะฐะฒะปะตะฝะธะต ั ะณะพัะพะฒัะผะธ embeddings
- `GET /custom_sounds` - ะะพะปััะตะฝะธะต ัะฟะธัะบะฐ
- `DELETE /custom_sounds/{sound_id}` - ะฃะดะฐะปะตะฝะธะต

### ะะฐัััะพะนะบะธ ัะฒะตะดะพะผะปะตะฝะธะน

- `GET /notification_settings/{device_id}` - ะะพะปััะตะฝะธะต ะฝะฐัััะพะตะบ
- `POST /notification_sounds` - ะะพะฑะฐะฒะปะตะฝะธะต ะฒะฐะถะฝัั ะทะฒัะบะพะฒ
- `POST /excluded_sounds` - ะะพะฑะฐะฒะปะตะฝะธะต ะธัะบะปััะตะฝะฝัั ะทะฒัะบะพะฒ

## ๐ง YAMNet Embeddings System

### ะัะพัะตัั ััะตะฝะธัะพะฒะบะธ

1. **ะัะดะธะพ ะทะฐะฟะธัะธ** โ YAMNet โ 1024-d embeddings
2. **ะะฝะพะถะตััะฒะพ embeddings** โ Centroid (ัััะตะดะฝะตะฝะฝัะน ะฒะตะบัะพั)
3. **Threshold** โ ะะพัะพะณ ััะพะถะตััะธ (0.75-0.85)

### ะัะพัะตัั ะดะตัะตะบัะธะธ

1. **ะัะดะธะพ** โ YAMNet โ embedding
2. **Cosine similarity** ั centroid'ะฐะผะธ custom sounds
3. **Similarity > threshold** โ Custom sound detected
4. **Specific** โ ัะฒะตะดะพะผะปะตะฝะธะต, **Excluded** โ ัะธัะธะฝะฐ
5. **ะะฝะฐัะต** โ ะพะฑััะฝะฐั YAMNet ะบะปะฐััะธัะธะบะฐัะธั

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

- `TF_ENABLE_ONEDNN_OPTS=0` - ะพัะบะปััะตะฝะธะต oneDNN ะพะฟัะธะผะธะทะฐัะธะน

### ะะฐัััะพะนะบะธ thresholds

- **Specific sounds**: 0.8 (ะฒััะพะบะฐั ัะพัะฝะพััั)
- **Excluded sounds**: 0.75 (ััะตะดะฝัั ัะพัะฝะพััั)

### IP ะฐะดัะตัะฐ

ะะฐะผะตะฝะธัะต `192.168.0.61` ะฝะฐ ะฒะฐั IP ะฒ:

- `mobile_app/src/api/client.ts`
- `raspberry_pi/audio_client_fixed.py`

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
mvp_sound_sentinel/
โโโ api_server/
โ   โโโ main.py              # ะัะฝะพะฒะฝะพะน ัะตัะฒะตั FastAPI
โ   โโโ requirements.txt     # ะะฐะฒะธัะธะผะพััะธ Python
โ   โโโ certs/              # HTTPS ัะตััะธัะธะบะฐัั
โ   โโโ soundsentinel.db    # ะะฐะทะฐ ะดะฐะฝะฝัั SQLite
โโโ mobile_app/
โ   โโโ src/
โ   โ   โโโ api/client.ts    # API ะบะปะธะตะฝั
โ   โ   โโโ components/      # React ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ App.tsx          # ะะปะฐะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ certs/              # HTTPS ัะตััะธัะธะบะฐัั
โ   โโโ package.json         # ะะฐะฒะธัะธะผะพััะธ Node.js
โโโ raspberry_pi/
โ   โโโ audio_client_fixed.py # ะะปะธะตะฝั ะดะปั Raspberry Pi
โ   โโโ requirements.txt     # ะะฐะฒะธัะธะผะพััะธ Python
โโโ RUN.md                  # ะะฝััััะบัะธั ะทะฐะฟััะบะฐ
โโโ README.md               # ะะพะบัะผะตะฝัะฐัะธั
```

## ๐ฏ ะัะพะฑะตะฝะฝะพััะธ

- **Few-shot learning**: ะขัะตะฑัะตััั 3-10 ะฟัะธะผะตัะพะฒ ะดะปั ััะตะฝะธัะพะฒะบะธ
- **Real-time processing**: ะะตัะตะบัะธั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- **Mobile responsive**: ะะดะฐะฟัะธะฒะฝัะน ะธะฝัะตััะตะนั
- **WebSocket notifications**: ะะณะฝะพะฒะตะฝะฝัะต ัะฒะตะดะพะผะปะตะฝะธั
- **YAMNet integration**: ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟัะตะดะพะฑััะตะฝะฝะพะน Google ะผะพะดะตะปะธ
- **HTTPS security**: ะะตะทะพะฟะฐัะฝัะต ัะพะตะดะธะฝะตะฝะธั ะฒะตะทะดะต
- **Microphone support**: ะะฐะฟะธัั ะทะฒัะบะพะฒ ั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ

## ๐ ะะธัะตะฝะทะธั

ะัะพะตะบั ัะฐะทัะฐะฑะพัะฐะฝ ะดะปั ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปะตะน.
